"use strict";(self.webpackChunkselectdb_portal=self.webpackChunkselectdb_portal||[]).push([[4949],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>h});var a=r(67294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,a,o=function(e,t){if(null==e)return{};var r,a,o={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=a.createContext({}),c=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},u=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},m="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var r=e.components,o=e.mdxType,n=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=c(r),d=o,h=m["".concat(l,".").concat(d)]||m[d]||p[d]||n;return r?a.createElement(h,s(s({ref:t},u),{},{components:r})):a.createElement(h,s({ref:t},u))}));function h(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var n=r.length,s=new Array(n);s[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[m]="string"==typeof e?e:o,s[1]=i;for(var c=2;c<n;c++)s[c]=r[c];return a.createElement.apply(null,s)}return a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},57020:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>n,metadata:()=>i,toc:()=>c});var a=r(87462),o=(r(67294),r(3905));const n={title:"CREATE-RESOURCE-GORUP",language:"en"},s=void 0,i={unversionedId:"sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-RESOURCE-GROUP",id:"sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-RESOURCE-GROUP",title:"CREATE-RESOURCE-GORUP",description:"\x3c!--",source:"@site/docs/sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-RESOURCE-GROUP.md",sourceDirName:"sql-manual/sql-reference/Data-Definition-Statements/Create",slug:"/sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-RESOURCE-GROUP",permalink:"/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-RESOURCE-GROUP",draft:!1,tags:[],version:"current",frontMatter:{title:"CREATE-RESOURCE-GORUP",language:"en"},sidebar:"docs",previous:{title:"CREATE-RESOURCE",permalink:"/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-RESOURCE"},next:{title:"CREATE-TABLE-LIKE",permalink:"/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-TABLE-LIKE"}},l={},c=[{value:"CREATE-RESOURCE-GROUP",id:"create-resource-group",level:2},{value:"Name",id:"name",level:3},{value:"Description",id:"description",level:3},{value:"Example",id:"example",level:3},{value:"Keywords",id:"keywords",level:3},{value:"Best Practice",id:"best-practice",level:3}],u={toc:c},m="wrapper";function p(e){let{components:t,...r}=e;return(0,o.kt)(m,(0,a.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"create-resource-group"},"CREATE-RESOURCE-GROUP"),(0,o.kt)("h3",{id:"name"},"Name"),(0,o.kt)("p",null,"CREATE RESOURCE GROUP"),(0,o.kt)("version",{since:"dev"}),(0,o.kt)("h3",{id:"description"},"Description"),(0,o.kt)("p",null,"This statement is used to create a resource group. Resource groups enable the isolation of cpu resources and memory resources on a single be."),(0,o.kt)("p",null,"grammar:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sql"},'CREATE RESOURCE GROUP [IF NOT EXISTS] "rg_name"\nPROPERTIES (\n    property_list\n);\n')),(0,o.kt)("p",null,"illustrate:"),(0,o.kt)("p",null,"Properties supported by property_list:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"cpu_share: Required, used to set how much cpu time the resource group can acquire, which can achieve soft isolation of cpu resources. cpu_share is a relative value indicating the weight of cpu resources available to the running resource group. For example, if a user creates 3 resource groups rg-a, rg-b and rg-c with cpu_share of 10, 30 and 40 respectively, and at a certain moment rg-a and rg-b are running tasks while rg-c has no tasks, then rg-a can get 25% (10 / (10 + 30)) of the cpu resources while resource group rg-b can get 75% of the cpu resources. If the system has only one resource group running, it gets all the cpu resources regardless of the value of its cpu_share.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"memory_limit: Required, set the percentage of be memory that can be used by the resource group. The absolute value of the resource group memory limit is: physical_memory ",(0,o.kt)("em",{parentName:"p"}," mem_limit ")," memory_limit, where mem_limit is a be configuration item. The total memory_limit of all resource groups in the system must not exceed 100%. Resource groups are guaranteed to use the memory_limit for the tasks in the group in most cases. When the resource group memory usage exceeds this limit, tasks in the group with larger memory usage may be canceled to release the excess memory, refer to enable_memory_overcommit.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"enable_memory_overcommit: Optional, enable soft memory isolation for the resource group, default is false. if set to false, the resource group is hard memory isolated and the tasks with the largest memory usage will be canceled immediately after the resource group memory usage exceeds the limit to release the excess memory. if set to true, the resource group is hard memory isolated and the tasks with the largest memory usage will be canceled immediately after the resource group memory usage exceeds the limit to release the excess memory. if set to true, the resource group is softly isolated, if the system has free memory resources, the resource group can continue to use system memory after exceeding the memory_limit limit, and when the total system memory is tight, it will cancel several tasks in the group with the largest memory occupation, releasing part of the excess memory to relieve the system memory pressure. It is recommended that when this configuration is enabled for a resource group, the total memory_limit of all resource groups should be less than 100%, and the remaining portion should be used for resource group memory overcommit."))),(0,o.kt)("h3",{id:"example"},"Example"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Create a resource group named g1:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-sql"},' create resource group if not exists g1\n properties (\n     "cpu_share"="10",\n     "memory_limit"="30%",\n     "enable_memory_overcommit"="true"\n );\n')))),(0,o.kt)("h3",{id:"keywords"},"Keywords"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"CREATE, RESOURCE, GROUP\n")),(0,o.kt)("h3",{id:"best-practice"},"Best Practice"))}p.isMDXComponent=!0}}]);