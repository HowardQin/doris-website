"use strict";(self.webpackChunkselectdb_portal=self.webpackChunkselectdb_portal||[]).push([[8895],{3905:(e,t,a)=>{a.d(t,{Zo:()=>s,kt:()=>k});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var d=n.createContext({}),p=function(e){var t=n.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},s=function(e){var t=p(e.components);return n.createElement(d.Provider,{value:t},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,d=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),m=p(a),c=r,k=m["".concat(d,".").concat(c)]||m[c]||u[c]||l;return a?n.createElement(k,i(i({ref:t},s),{},{components:a})):n.createElement(k,i({ref:t},s))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=c;var o={};for(var d in t)hasOwnProperty.call(t,d)&&(o[d]=t[d]);o.originalType=e,o[m]="string"==typeof e?e:r,i[1]=o;for(var p=2;p<l;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},60690:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>m,frontMatter:()=>l,metadata:()=>o,toc:()=>p});var n=a(87462),r=(a(67294),a(3905));const l={title:"Multi-Catalog",language:"en"},i=void 0,o={unversionedId:"ecosystem/external-table/multi-catalog",id:"version-dev/ecosystem/external-table/multi-catalog",title:"Multi-Catalog",description:"\x3c!--",source:"@site/versioned_docs/version-dev/ecosystem/external-table/multi-catalog.md",sourceDirName:"ecosystem/external-table",slug:"/ecosystem/external-table/multi-catalog",permalink:"/docs/dev/ecosystem/external-table/multi-catalog",draft:!1,editUrl:"https://github.com/apache/doris/edit/master/docs/en/docs/ecosystem/external-table/multi-catalog.md",tags:[],version:"dev",frontMatter:{title:"Multi-Catalog",language:"en"},sidebar:"docs",previous:{title:"cold hot separation",permalink:"/docs/dev/advanced/cold_hot_separation"},next:{title:"Doris On ES",permalink:"/docs/dev/ecosystem/external-table/doris-on-es"}},d={},p=[{value:"Basic Concepts",id:"basic-concepts",level:2},{value:"Samples",id:"samples",level:2},{value:"Connect Hive MetaStore\uff08Hive/Iceberg/Hudi\uff09",id:"connect-hive-metastorehiveiceberghudi",level:3},{value:"Connect Elasticsearch",id:"connect-elasticsearch",level:3},{value:"Parameters:",id:"parameters",level:4},{value:"Connect JDBC",id:"connect-jdbc",level:3},{value:"\u53c2\u6570\u8bf4\u660e\uff1a",id:"\u53c2\u6570\u8bf4\u660e",level:4},{value:"Connect Aliyun Data Lake Formation",id:"connect-aliyun-data-lake-formation",level:3},{value:"Column Type Mapping",id:"column-type-mapping",level:2},{value:"Hive MetaStore",id:"hive-metastore",level:3},{value:"Elasticsearch",id:"elasticsearch",level:3},{value:"JDBC",id:"jdbc",level:3},{value:"MYSQL",id:"mysql",level:4},{value:"POSTGRESQL",id:"postgresql",level:4},{value:"CLICKHOUSE",id:"clickhouse",level:4},{value:"ORACLE",id:"oracle",level:4},{value:"Privilege Management",id:"privilege-management",level:2},{value:"Metadata Refresh",id:"metadata-refresh",level:2},{value:"Manual Refresh",id:"manual-refresh",level:3},{value:"Auto Refresh",id:"auto-refresh",level:3},{value:"Hive MetaStore(HMS) catalog",id:"hive-metastorehms-catalog",level:4},{value:"Use suggestions",id:"use-suggestions",level:5},{value:"Other catalog",id:"other-catalog",level:4},{value:"FAQ",id:"faq",level:2},{value:"Iceberg",id:"iceberg",level:3},{value:"Kerberos",id:"kerberos",level:3},{value:"HDFS",id:"hdfs",level:3}],s={toc:p};function m(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"multi-catalog"},"Multi-Catalog"),(0,r.kt)("version",{since:"1.2.0"},(0,r.kt)("p",null,"Multi-Catalog is a feature introduced in Doris 1.2.0, which aims to make it easier to interface with external data sources to enhance Doris' data lake analysis and federated data query capabilities."),(0,r.kt)("p",null,"In previous versions of Doris, there were only two levels of user data: Database and Table. When we need to connect to an external data source, we can only connect at the Database or Table level. For example, create a mapping of a table in an external data source through ",(0,r.kt)("inlineCode",{parentName:"p"},"create external table"),", or map a Database in an external data source through ",(0,r.kt)("inlineCode",{parentName:"p"},"create external database"),". If there are too many Databases or Tables in the external data source, users need to manually map them one by one, and the experience is not good."),(0,r.kt)("p",null,"The new Multi-Catalog function adds a new layer of Catalog to the original metadata level, forming a three-layer metadata level of Catalog -> Database -> Table. Among them, Catalog can directly correspond to the external data source. Currently supported external data sources include:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Hive MetaStore: Connect to a Hive MetaStore, so that you can directly access Hive, Iceberg, Hudi and other data in it."),(0,r.kt)("li",{parentName:"ol"},"Elasticsearch: Connect to an ES cluster and directly access the tables and shards in it."),(0,r.kt)("li",{parentName:"ol"},"JDBC: Connect to the standard database access interface (JDBC) to access data of various databases. (currently only support ",(0,r.kt)("inlineCode",{parentName:"li"},"jdbc:mysql"),")")),(0,r.kt)("p",null,"This function will be used as a supplement and enhancement to the previous external table connection method (External Table) to help users perform fast multi-catalog federated queries.")),(0,r.kt)("h2",{id:"basic-concepts"},"Basic Concepts"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Internal Catalog"),(0,r.kt)("p",{parentName:"li"},"Doris's original Database and Table will belong to Internal Catalog. Internal Catalog is the built-in default Catalog, which cannot be modified or deleted by the user.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"External Catalog"),(0,r.kt)("p",{parentName:"li"},"An External Catalog can be created with the ",(0,r.kt)("a",{parentName:"p",href:"/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-CATALOG"},"CREATE CATALOG")," command. After creation, you can view the created catalog through the ",(0,r.kt)("a",{parentName:"p",href:"/docs/dev/sql-manual/sql-reference/Show-Statements/SHOW-CATALOGS"},"SHOW CATALOGS")," command.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Switch Catalog"),(0,r.kt)("p",{parentName:"li"},"After users log in to Doris, they enter the Internal Catalog by default, so the default usage is the same as the previous version. You can directly use ",(0,r.kt)("inlineCode",{parentName:"p"},"SHOW DATABASES"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"USE DB")," and other commands to view and switch databases."),(0,r.kt)("p",{parentName:"li"},"Users can switch the catalog through the ",(0,r.kt)("a",{parentName:"p",href:"/docs/dev/sql-manual/sql-reference/Utility-Statements/SWITCH"},"SWITCH")," command. like:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"SWiTCH internal;\nSWITCH hive_catalog;\n")),(0,r.kt)("p",{parentName:"li"},"After switching, you can directly view and switch the Database in the corresponding Catalog through commands such as ",(0,r.kt)("inlineCode",{parentName:"p"},"SHOW DATABASES"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"USE DB"),". Doris will automatically sync the Database and Table in the Catalog. Users can view and access data in the External Catalog as they would with the Internal Catalog."),(0,r.kt)("p",{parentName:"li"},"Currently, Doris only supports read-only access to data in the External Catalog.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Drop Catalog"),(0,r.kt)("p",{parentName:"li"},"Both Database and Table in External Catalog are read-only. However, the catalog can be deleted (Internal Catalog cannot be deleted). An External Catalog can be dropped via the ",(0,r.kt)("a",{parentName:"p",href:"../../sql-manual/sql-reference/Data-Definition-Statements/Drop/DROP-CATALOG"},"DROP CATALOG")," command."),(0,r.kt)("p",{parentName:"li"},"This operation will only delete the mapping information of the catalog in Doris, and will not modify or change the contents of any external data source."))),(0,r.kt)("h2",{id:"samples"},"Samples"),(0,r.kt)("h3",{id:"connect-hive-metastorehiveiceberghudi"},"Connect Hive MetaStore\uff08Hive/Iceberg/Hudi\uff09"),(0,r.kt)("blockquote",null,(0,r.kt)("ol",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ol"},"hive supports version 2.3.7 and above."),(0,r.kt)("li",{parentName:"ol"},"Iceberg currently only supports V1 version, V2 version will be supported soon."),(0,r.kt)("li",{parentName:"ol"},"Hudi currently only supports Snapshot Query for Copy On Write tables and Read Optimized Query for Merge On Read tables. In the future, Incremental Query and Snapshot Query for Merge On Read tables will be supported soon."),(0,r.kt)("li",{parentName:"ol"},"Support access to hive tables whose data stored on tencent chdfs, usage is same as common hive table."))),(0,r.kt)("p",null,"The following example is used to create a Catalog named hive to connect the specified Hive MetaStore, and provide the HDFS HA connection properties to access the corresponding files in HDFS."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Create catalog through resource")),(0,r.kt)("p",null,"In later versions of ",(0,r.kt)("inlineCode",{parentName:"p"},"1.2.0"),", it is recommended to create a catalog through resource."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE RESOURCE hms_resource PROPERTIES (\n    'type'='hms',\n    'hive.metastore.uris' = 'thrift://172.21.0.1:7004',\n    'hadoop.username' = 'hive',\n    'dfs.nameservices'='your-nameservice',\n    'dfs.ha.namenodes.your-nameservice'='nn1,nn2',\n    'dfs.namenode.rpc-address.your-nameservice.nn1'='172.21.0.2:4007',\n    'dfs.namenode.rpc-address.your-nameservice.nn2'='172.21.0.3:4007',\n    'dfs.client.failover.proxy.provider.your-nameservice'='org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider'\n);\n\n// The properties in 'PROPERTIES' will overwrite the properties in \"Resource\"\nCREATE CATALOG hive WITH RESOURCE hms_resource PROPERTIES(\n    'key' = 'value'\n);\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Create catalog through properties")),(0,r.kt)("p",null,"Version ",(0,r.kt)("inlineCode",{parentName:"p"},"1.2.0")," creates a catalog through properties."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE CATALOG hive PROPERTIES (\n    'type'='hms',\n    'hive.metastore.uris' = 'thrift://172.21.0.1:7004',\n    'hadoop.username' = 'hive',\n    'dfs.nameservices'='your-nameservice',\n    'dfs.ha.namenodes.your-nameservice'='nn1,nn2',\n    'dfs.namenode.rpc-address.your-nameservice.nn1'='172.21.0.2:4007',\n    'dfs.namenode.rpc-address.your-nameservice.nn2'='172.21.0.3:4007',\n    'dfs.client.failover.proxy.provider.your-nameservice'='org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider'\n);\n")),(0,r.kt)("p",null,"If you want to connect to a Hive MetaStore with kerberos authentication, you can do like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"-- 1.2.0+ Version\nCREATE RESOURCE hms_resource PROPERTIES (\n    'type'='hms',\n    'hive.metastore.uris' = 'thrift://172.21.0.1:7004',\n    'hive.metastore.sasl.enabled' = 'true',\n    'dfs.nameservices'='your-nameservice',\n    'dfs.namenode.rpc-address.your-nameservice.nn1'='172.21.0.2:4007',\n    'dfs.namenode.rpc-address.your-nameservice.nn2'='172.21.0.3:4007',\n    'dfs.client.failover.proxy.provider.your-nameservice'='org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider',\n    'hadoop.security.authentication' = 'kerberos',\n    'hadoop.kerberos.keytab' = '/your-keytab-filepath/your.keytab',   \n    'hadoop.kerberos.principal' = 'your-principal@YOUR.COM',\n    'yarn.resourcemanager.address' = 'your-rm-address:your-rm-port',    \n    'yarn.resourcemanager.principal' = 'your-rm-principal/_HOST@YOUR.COM'\n);\nCREATE CATALOG hive WITH RESOURCE hms_resource;\n\n-- 1.2.0 Version\nCREATE CATALOG hive PROPERTIES (\n    'type'='hms',\n    'hive.metastore.uris' = 'thrift://172.21.0.1:7004',\n    'hadoop.kerberos.xxx' = 'xxx',\n    ...\n);\n")),(0,r.kt)("p",null,"If you want to connect to Hadoop with KMS authentication, you should add the follow configuration into properties:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"'dfs.encryption.key.provider.uri' = 'kms://http@kms_host:kms_port/kms'\n")),(0,r.kt)("p",null,"Once created, you can view the catalog with the ",(0,r.kt)("inlineCode",{parentName:"p"},"SHOW CATALOGS")," command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"mysql> SHOW CATALOGS;\n+-----------+-------------+----------+\n| CatalogId | CatalogName | Type     |\n+-----------+-------------+----------+\n|     10024 | hive        | hms      |\n|         0 | internal    | internal |\n+-----------+-------------+----------+\n")),(0,r.kt)("p",null,"Switch to the hive catalog with the ",(0,r.kt)("inlineCode",{parentName:"p"},"SWITCH")," command and view the databases in it:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"mysql> SWITCH hive;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> SHOW DATABASES;\n+-----------+\n| Database  |\n+-----------+\n| default   |\n| random    |\n| ssb100    |\n| tpch1     |\n| tpch100   |\n| tpch1_orc |\n+-----------+\n")),(0,r.kt)("p",null,"Switch to the tpch100 database and view the tables in it:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"mysql> USE tpch100;\nReading table information for completion of table and column names\nYou can turn off this feature to get a quicker startup with -A\n\nDatabase changed\nmysql> SHOW TABLES;\n+-------------------+\n| Tables_in_tpch100 |\n+-------------------+\n| customer          |\n| lineitem          |\n| nation            |\n| orders            |\n| part              |\n| partsupp          |\n| region            |\n| supplier          |\n+-------------------+\n")),(0,r.kt)("p",null,"View schema of table lineitem:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"mysql> DESC lineitem;\n+-----------------+---------------+------+------+---------+-------+\n| Field           | Type          | Null | Key  | Default | Extra |\n+-----------------+---------------+------+------+---------+-------+\n| l_shipdate      | DATE          | Yes  | true | NULL    |       |\n| l_orderkey      | BIGINT        | Yes  | true | NULL    |       |\n| l_linenumber    | INT           | Yes  | true | NULL    |       |\n| l_partkey       | INT           | Yes  | true | NULL    |       |\n| l_suppkey       | INT           | Yes  | true | NULL    |       |\n| l_quantity      | DECIMAL(15,2) | Yes  | true | NULL    |       |\n| l_extendedprice | DECIMAL(15,2) | Yes  | true | NULL    |       |\n| l_discount      | DECIMAL(15,2) | Yes  | true | NULL    |       |\n| l_tax           | DECIMAL(15,2) | Yes  | true | NULL    |       |\n| l_returnflag    | TEXT          | Yes  | true | NULL    |       |\n| l_linestatus    | TEXT          | Yes  | true | NULL    |       |\n| l_commitdate    | DATE          | Yes  | true | NULL    |       |\n| l_receiptdate   | DATE          | Yes  | true | NULL    |       |\n| l_shipinstruct  | TEXT          | Yes  | true | NULL    |       |\n| l_shipmode      | TEXT          | Yes  | true | NULL    |       |\n| l_comment       | TEXT          | Yes  | true | NULL    |       |\n+-----------------+---------------+------+------+---------+-------+\n")),(0,r.kt)("p",null,"Query:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"mysql> SELECT l_shipdate, l_orderkey, l_partkey FROM lineitem limit 10;\n+------------+------------+-----------+\n| l_shipdate | l_orderkey | l_partkey |\n+------------+------------+-----------+\n| 1998-01-21 |   66374304 |    270146 |\n| 1997-11-17 |   66374304 |    340557 |\n| 1997-06-17 |   66374400 |   6839498 |\n| 1997-08-21 |   66374400 |  11436870 |\n| 1997-08-07 |   66374400 |  19473325 |\n| 1997-06-16 |   66374400 |   8157699 |\n| 1998-09-21 |   66374496 |  19892278 |\n| 1998-08-07 |   66374496 |   9509408 |\n| 1998-10-27 |   66374496 |   4608731 |\n| 1998-07-14 |   66374592 |  13555929 |\n+------------+------------+-----------+\n")),(0,r.kt)("p",null,"You can also perform associated queries with tables in other data catalogs:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"mysql> SELECT l.l_shipdate FROM hive.tpch100.lineitem l WHERE l.l_partkey IN (SELECT p_partkey FROM internal.db1.part) LIMIT 10;\n+------------+\n| l_shipdate |\n+------------+\n| 1993-02-16 |\n| 1995-06-26 |\n| 1995-08-19 |\n| 1992-07-23 |\n| 1998-05-23 |\n| 1997-07-12 |\n| 1994-03-06 |\n| 1996-02-07 |\n| 1997-06-01 |\n| 1996-08-23 |\n+------------+\n")),(0,r.kt)("p",null,"Here we identify a table in a fully qualified way of ",(0,r.kt)("inlineCode",{parentName:"p"},"catalog.database.table"),", such as: ",(0,r.kt)("inlineCode",{parentName:"p"},"internal.db1.part"),"."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"catalog")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"database")," can be omitted, and the catalog and database switched after the current SWITCH and USE are used by default."),(0,r.kt)("p",null,"The table data in the hive catalog can be inserted into the internal table in the internal catalog through the INSERT INTO command, so as to achieve the effect of ",(0,r.kt)("strong",{parentName:"p"},"importing external data source's data"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"mysql> SWITCH internal;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> USE db1;\nReading table information for completion of table and column names\nYou can turn off this feature to get a quicker startup with -A\n\nDatabase changed\nmysql> INSERT INTO part SELECT * FROM hive.tpch100.part limit 1000;\nQuery OK, 1000 rows affected (0.28 sec)\n{'label':'insert_212f67420c6444d5_9bfc184bf2e7edb8', 'status':'VISIBLE', 'txnId':'4'}\n")),(0,r.kt)("h3",{id:"connect-elasticsearch"},"Connect Elasticsearch"),(0,r.kt)("blockquote",null,(0,r.kt)("ol",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ol"},"5.x and later versions are supported."),(0,r.kt)("li",{parentName:"ol"},"In 5.x and 6.x, multiple types in an index are taken as the first by default."))),(0,r.kt)("p",null,"The following example creates a Catalog connection named es to the specified ES and turns off node discovery."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'-- 1.2.0+ Version\nCREATE RESOURCE es_resource PROPERTIES (\n    "type"="es",\n    "hosts"="http://127.0.0.1:9200",\n    "nodes_discovery"="false"\n);\nCREATE CATALOG es WITH RESOURCE es_resource;\n\n-- 1.2.0 Version\nCREATE CATALOG es PROPERTIES (\n    "type"="es",\n    "elasticsearch.hosts"="http://127.0.0.1:9200",\n    "elasticsearch.nodes_discovery"="false"\n);\n')),(0,r.kt)("p",null,"Once created, you can view the catalog with the ",(0,r.kt)("inlineCode",{parentName:"p"},"SHOW CATALOGS")," command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"mysql> SHOW CATALOGS;\n+-----------+-------------+----------+\n| CatalogId | CatalogName | Type     |\n+-----------+-------------+----------+\n|         0 | internal    | internal |\n|     11003 | es          | es       |\n+-----------+-------------+----------+\n2 rows in set (0.02 sec)\n")),(0,r.kt)("p",null,"Switch to the hive catalog with the ",(0,r.kt)("inlineCode",{parentName:"p"},"SWITCH")," command and view the databases in it(Only one default_db associates all index)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"mysql> SWITCH es;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> SHOW DATABASES;\n+------------+\n| Database   |\n+------------+\n| default_db |\n+------------+\n\nmysql> show tables;\n+----------------------+\n| Tables_in_default_db |\n+----------------------+\n| test                 |\n| test2                |\n+----------------------+\n")),(0,r.kt)("p",null,"Query"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"mysql> select * from test;\n+------------+-------------+--------+-------+\n| test4      | test2       | test3  | test1 |\n+------------+-------------+--------+-------+\n| 2022-08-08 | hello world |  2.415 | test2 |\n| 2022-08-08 | hello world | 3.1415 | test1 |\n+------------+-------------+--------+-------+\n")),(0,r.kt)("h4",{id:"parameters"},"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"elasticsearch.hosts")),(0,r.kt)("td",{parentName:"tr",align:null},"ES Connection Address, maybe one or more node, load-balance is also accepted")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"elasticsearch.username")),(0,r.kt)("td",{parentName:"tr",align:null},"username for ES")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"elasticsearch.password")),(0,r.kt)("td",{parentName:"tr",align:null},"password for the user")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"elasticsearch.doc_value_scan")),(0,r.kt)("td",{parentName:"tr",align:null},"whether to enable ES/Lucene column storage to get the value of the query field, the default is true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"elasticsearch.keyword_sniff")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether to probe the string segmentation type text.fields in ES, query by keyword (the default is true, false matches the content after the segmentation)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"elasticsearch.nodes_discovery")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether or not to enable ES node discovery, the default is true. In network isolation, set this parameter to false. Only the specified node is connected")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"elasticsearch.ssl")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether ES cluster enables https access mode, the current FE/BE implementation is to trust all")))),(0,r.kt)("h3",{id:"connect-jdbc"},"Connect JDBC"),(0,r.kt)("p",null,"The following example creates a Catalog connection named jdbc. This jdbc Catalog will connect to the specified database according to the 'jdbc.jdbc_url' parameter(",(0,r.kt)("inlineCode",{parentName:"p"},"jdbc::mysql")," in the example, so connect to the mysql database). Currently, supports MYSQL, POSTGRESQL, CLICKHOUSE database types."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"mysql catalog example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'-- 1.2.0+ Version\nCREATE RESOURCE mysql_resource PROPERTIES (\n    "type"="jdbc",\n    "user"="root",\n    "password"="123456",\n    "jdbc_url" = "jdbc:mysql://127.0.0.1:3306/demo",\n    "driver_url" = "file:///path/to/mysql-connector-java-5.1.47.jar",\n    "driver_class" = "com.mysql.jdbc.Driver"\n)\nCREATE CATALOG jdbc WITH RESOURCE mysql_resource;\n\n-- 1.2.0 Version\nCREATE CATALOG jdbc PROPERTIES (\n    "type"="jdbc",\n    "jdbc.jdbc_url" = "jdbc:mysql://127.0.0.1:3306/demo",\n    ...\n)\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"postgresql catalog example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'-- 1.2.0+ Version\nCREATE RESOURCE pg_resource PROPERTIES (\n    "type"="jdbc",\n    "user"="postgres",\n    "password"="123456",\n    "jdbc_url" = "jdbc:postgresql://127.0.0.1:5449/demo",\n    "driver_url" = "file:///path/to/postgresql-42.5.1.jar",\n    "driver_class" = "org.postgresql.Driver"\n);\nCREATE CATALOG jdbc WITH RESOURCE pg_resource;\n\n-- 1.2.0 Version\nCREATE CATALOG jdbc PROPERTIES (\n    "type"="jdbc",\n    "jdbc.jdbc_url" = "jdbc:postgresql://127.0.0.1:5449/demo",\n    ...\n)\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"CLICKHOUSE catalog example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'-- The first way\nCREATE RESOURCE clickhouse_resource PROPERTIES (\n    "type"="jdbc",\n    "user"="default",\n    "password"="123456",\n    "jdbc_url" = "jdbc:clickhouse://127.0.0.1:8123/demo",\n    "driver_url" = "file:///path/to/clickhouse-jdbc-0.3.2-patch11-all.jar",\n    "driver_class" = "com.clickhouse.jdbc.ClickHouseDriver"\n)\nCREATE CATALOG jdbc WITH RESOURCE clickhouse_resource;\n\n-- The second way, note: keys have \'jdbc\' prefix in front.\nCREATE CATALOG jdbc PROPERTIES (\n    "type"="jdbc",\n    "jdbc.jdbc_url" = "jdbc:clickhouse://127.0.0.1:8123/demo",\n    ...\n)\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"oracle catalog example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'-- The first way\nCREATE RESOURCE oracle_resource PROPERTIES (\n    "type"="jdbc",\n    "user"="doris",\n    "password"="123456",\n    "jdbc_url" = "jdbc:oracle:thin:@127.0.0.1:1521:helowin",\n    "driver_url" = "file:/path/to/ojdbc6.jar",\n    "driver_class" = "oracle.jdbc.driver.OracleDriver"\n);\nCREATE CATALOG jdbc WITH RESOURCE oracle_resource;\n\n-- The second way, note: keys have \'jdbc\' prefix in front.\nCREATE CATALOG jdbc PROPERTIES (\n    "type"="jdbc",\n    "jdbc.user"="doris",\n    "jdbc.password"="123456",\n    "jdbc.jdbc_url" = "jdbc:oracle:thin:@127.0.0.1:1521:helowin",\n    "jdbc.driver_url" = "file:/path/to/ojdbc6.jar",\n    "jdbc.driver_class" = "oracle.jdbc.driver.OracleDriver"\n);  \n')),(0,r.kt)("p",null,"Where ",(0,r.kt)("inlineCode",{parentName:"p"},"jdbc.driver_url")," can be a remote jar package"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'CREATE RESOURCE mysql_resource PROPERTIES (\n    "type"="jdbc",\n    "user"="root",\n    "password"="123456",\n    "jdbc_url" = "jdbc:mysql://127.0.0.1:13396/demo",\n    "driver_url" = "https://path/jdbc_driver/mysql-connector-java-8.0.25.jar",\n    "driver_class" = "com.mysql.cj.jdbc.Driver"\n)\n\nCREATE CATALOG jdbc WITH RESOURCE mysql_resource;\n')),(0,r.kt)("p",null,"If the ",(0,r.kt)("inlineCode",{parentName:"p"},"jdbc.driver_url")," is a remote jar package in the form of http, the Doris processing method is:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Only query the meta-data, without inquiring the table data (such as the operation ",(0,r.kt)("inlineCode",{parentName:"li"},"show catalogs/database/tables"),"): This URL will be used to load the driver class by FE."),(0,r.kt)("li",{parentName:"ol"},"When querying the tables in JDBC Catalog (like ",(0,r.kt)("inlineCode",{parentName:"li"},"select from"),"): BE will download the jar package to the local directory ",(0,r.kt)("inlineCode",{parentName:"li"},"be/lib/udf/"),", and the jar package will be loaded directly from the local path When queried.")),(0,r.kt)("p",null,"Once created, you can view the catalog with the ",(0,r.kt)("inlineCode",{parentName:"p"},"SHOW CATALOGS")," command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"MySQL [(none)]> show catalogs;\n+-----------+-------------+----------+\n| CatalogId | CatalogName | Type     |\n+-----------+-------------+----------+\n|         0 | internal    | internal |\n|     10480 | jdbc        | jdbc     |\n+-----------+-------------+----------+\n2 rows in set (0.02 sec)\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note: "),(0,r.kt)("ol",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ol"},"In the ",(0,r.kt)("inlineCode",{parentName:"li"},"postgresql catalog"),", a database for doris corresponds to a schema in the postgresql specified catalog (specified in the ",(0,r.kt)("inlineCode",{parentName:"li"},"jdbc.jdbc_url")," parameter), tables under this database corresponds to tables under this postgresql's schema."),(0,r.kt)("li",{parentName:"ol"},"In the ",(0,r.kt)("inlineCode",{parentName:"li"},"oracle catalog"),", a database for doris corresponds to a user in the oracle, tables under this database corresponds to tables under this oracle's user."))),(0,r.kt)("p",null,"Switch to the jdbc catalog with the ",(0,r.kt)("inlineCode",{parentName:"p"},"SWITCH")," command and view the databases in it:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"MySQL [(none)]> switch jdbc;\nQuery OK, 0 rows affected (0.02 sec)\n\nMySQL [(none)]> show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| __db1              |\n| _db1               |\n| db1                |\n| demo               |\n| information_schema |\n| mysql              |\n| mysql_db_test      |\n| performance_schema |\n| sys                |\n+--------------------+\n9 rows in set (0.67 sec)\n")),(0,r.kt)("p",null,"Show the tables under the ",(0,r.kt)("inlineCode",{parentName:"p"},"db1")," database and query one table:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"MySQL [demo]> use db1;\nReading table information for completion of table and column names\nYou can turn off this feature to get a quicker startup with -A\n\nDatabase changed\nMySQL [db1]> show tables;\n+---------------+\n| Tables_in_db1 |\n+---------------+\n| tbl1          |\n+---------------+\n1 row in set (0.00 sec)\n\nMySQL [db1]> desc tbl1;\n+-------+------+------+------+---------+-------+\n| Field | Type | Null | Key  | Default | Extra |\n+-------+------+------+------+---------+-------+\n| k1    | INT  | Yes  | true | NULL    |       |\n+-------+------+------+------+---------+-------+\n1 row in set (0.00 sec)\n\nMySQL [db1]> select * from tbl1;\n+------+\n| k1   |\n+------+\n|    1 |\n|    2 |\n|    3 |\n|    4 |\n+------+\n4 rows in set (0.19 sec)\n")),(0,r.kt)("h4",{id:"\u53c2\u6570\u8bf4\u660e"},"\u53c2\u6570\u8bf4\u660e\uff1a"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,r.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"jdbc.user")),(0,r.kt)("td",{parentName:"tr",align:null},"The username used to connect to the database")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"jdbc.password")),(0,r.kt)("td",{parentName:"tr",align:null},"The password used to connect to the database")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"jdbc.jdbc_url")),(0,r.kt)("td",{parentName:"tr",align:null},"The identifier used to connect to the specified database")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"jdbc.driver_url")),(0,r.kt)("td",{parentName:"tr",align:null},"The url of JDBC driver package")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"jdbc.driver_class")),(0,r.kt)("td",{parentName:"tr",align:null},"The class of JDBC driver")))),(0,r.kt)("h3",{id:"connect-aliyun-data-lake-formation"},"Connect Aliyun Data Lake Formation"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.alibabacloud.com/product/datalake-formation"},"What is Data Lake Formation"))),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Create hive-site.xml"),(0,r.kt)("p",{parentName:"li"},"Create hive-site.xml and put it in ",(0,r.kt)("inlineCode",{parentName:"p"},"fe/conf"),"."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},'<?xml version="1.0"?>\n<configuration>\n    \x3c!--Set to use dlf client--\x3e\n    <property>\n        <name>hive.metastore.type</name>\n        <value>dlf</value>\n    </property>\n    <property>\n        <name>dlf.catalog.endpoint</name>\n        <value>dlf-vpc.cn-beijing.aliyuncs.com</value>\n    </property>\n    <property>\n        <name>dlf.catalog.region</name>\n        <value>cn-beijing</value>\n    </property>\n    <property>\n        <name>dlf.catalog.proxyMode</name>\n        <value>DLF_ONLY</value>\n    </property>\n    <property>\n        <name>dlf.catalog.uid</name>\n        <value>20000000000000000</value>\n    </property>\n    <property>\n        <name>dlf.catalog.accessKeyId</name>\n        <value>XXXXXXXXXXXXXXX</value>\n    </property>\n    <property>\n        <name>dlf.catalog.accessKeySecret</name>\n        <value>XXXXXXXXXXXXXXXXX</value>\n    </property>\n</configuration>\n')),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"dlf.catalog.endpoint"),": DLF Endpoint. See: ",(0,r.kt)("a",{parentName:"li",href:"https://www.alibabacloud.com/help/en/data-lake-formation/latest/regions-and-endpoints"},"Regions and endpoints of DLF")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"dlf.catalog.region"),": DLF Regio. See: ",(0,r.kt)("a",{parentName:"li",href:"https://www.alibabacloud.com/help/en/data-lake-formation/latest/regions-and-endpoints"},"Regions and endpoints of DLF")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"dlf.catalog.uid"),': Ali Cloud Account ID. That is, the "cloud account ID" of the personal information in the upper right corner of the Alibaba Cloud console.    * ',(0,r.kt)("inlineCode",{parentName:"li"},"dlf.catalog.accessKeyId"),": AccessKey. See: ",(0,r.kt)("a",{parentName:"li",href:"https://ram.console.aliyun.com/manage/ak"},"Ali Could Console"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"dlf.catalog.accessKeySecret"),": SecretKey. See: ",(0,r.kt)("a",{parentName:"li",href:"https://ram.console.aliyun.com/manage/ak"},"Ali Could Console"),".")),(0,r.kt)("p",{parentName:"li"},"Other configuration items are fixed values and do not need to be changed.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Restart FE and create a catalog with the ",(0,r.kt)("inlineCode",{parentName:"p"},"CREATE CATALOG")," statement."),(0,r.kt)("p",{parentName:"li"},"HMS resource will read and analyze fe/conf/hive-site.xml"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'-- 1.2.0+ Version\nCREATE RESOURCE dlf_resource PROPERTIES (\n    "type"="hms",\n    "hive.metastore.uris" = "thrift://127.0.0.1:9083"\n)\nCREATE CATALOG dlf WITH RESOURCE dlf_resource;\n\n-- 1.2.0 Version\nCREATE CATALOG dlf PROPERTIES (\n    "type"="hms",\n    "hive.metastore.uris" = "thrift://127.0.0.1:9083"\n)\n')),(0,r.kt)("p",{parentName:"li"},"where ",(0,r.kt)("inlineCode",{parentName:"p"},"type")," is fixed to ",(0,r.kt)("inlineCode",{parentName:"p"},"hms"),". The value of ",(0,r.kt)("inlineCode",{parentName:"p"},"hive.metastore.uris")," can be filled in at will, but it will not be used in practice. But it needs to be filled in the standard hive metastore thrift uri format."),(0,r.kt)("p",{parentName:"li"},"After that, the metadata under DLF can be accessed like a normal Hive MetaStore."))),(0,r.kt)("h2",{id:"column-type-mapping"},"Column Type Mapping"),(0,r.kt)("p",null,"After the user creates the catalog, Doris will automatically synchronize the database and tables of the data catalog. For different data catalog and data table formats, Doris will perform the following mapping relationships."),(0,r.kt)("version",{since:"dev"},(0,r.kt)("p",null,"For types that cannot currently be mapped to Doris column types, such as map, struct, etc. Doris will map the column type to UNSUPPORTED type. For queries of type UNSUPPORTED, an example is as follows:"),(0,r.kt)("p",null,"Suppose the table schema after synchronization is:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"k1 INT,\nk2 INT,\nk3 UNSUPPORTED,\nk4 INT\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"select * from table;                // Error: Unsupported type 'UNSUPPORTED_TYPE' in '`k3`\nselect * except(k3) from table;     // Query OK.\nselect k1, k3 from table;           // Error: Unsupported type 'UNSUPPORTED_TYPE' in '`k3`\nselect k1, k4 from table;           // Query OK.\n"))),(0,r.kt)("h3",{id:"hive-metastore"},"Hive MetaStore"),(0,r.kt)("p",null,"For Hive/Iceberge/Hudi"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"HMS Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Doris Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Comment"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"boolean"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"tinyint"),(0,r.kt)("td",{parentName:"tr",align:null},"tinyint"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"smallint"),(0,r.kt)("td",{parentName:"tr",align:null},"smallint"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"int"),(0,r.kt)("td",{parentName:"tr",align:null},"int"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"bigint"),(0,r.kt)("td",{parentName:"tr",align:null},"bigint"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"date"),(0,r.kt)("td",{parentName:"tr",align:null},"date"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"timestamp"),(0,r.kt)("td",{parentName:"tr",align:null},"datetime"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"float"),(0,r.kt)("td",{parentName:"tr",align:null},"float"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"double"),(0,r.kt)("td",{parentName:"tr",align:null},"double"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"array<type>")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"array<type>")),(0,r.kt)("td",{parentName:"tr",align:null},"Supprot nested array, such as ",(0,r.kt)("inlineCode",{parentName:"td"},"array<array<int>>"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"char"),(0,r.kt)("td",{parentName:"tr",align:null},"char"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"varchar"),(0,r.kt)("td",{parentName:"tr",align:null},"varchar"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"decimal"),(0,r.kt)("td",{parentName:"tr",align:null},"decimal"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"other"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The rest of the unsupported types are uniformly processed as string")))),(0,r.kt)("h3",{id:"elasticsearch"},"Elasticsearch"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"HMS Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Doris Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Comment"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"boolean"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"byte"),(0,r.kt)("td",{parentName:"tr",align:null},"tinyint"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"short"),(0,r.kt)("td",{parentName:"tr",align:null},"smallint"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"integer"),(0,r.kt)("td",{parentName:"tr",align:null},"int"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"long"),(0,r.kt)("td",{parentName:"tr",align:null},"bigint"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"unsigned_long"),(0,r.kt)("td",{parentName:"tr",align:null},"largeint"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"float"),(0,r.kt)("td",{parentName:"tr",align:null},"float"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"half_float"),(0,r.kt)("td",{parentName:"tr",align:null},"float"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"double"),(0,r.kt)("td",{parentName:"tr",align:null},"double"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"scaled_float"),(0,r.kt)("td",{parentName:"tr",align:null},"double"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"date"),(0,r.kt)("td",{parentName:"tr",align:null},"date"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"keyword"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"text"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ip"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"nested"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"object"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"array"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Comming soon")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"other"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("h3",{id:"jdbc"},"JDBC"),(0,r.kt)("h4",{id:"mysql"},"MYSQL"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"MYSQL Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Doris Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Comment"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"BOOLEAN"),(0,r.kt)("td",{parentName:"tr",align:null},"BOOLEAN"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"TINYINT"),(0,r.kt)("td",{parentName:"tr",align:null},"TINYINT"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"SMALLINT"),(0,r.kt)("td",{parentName:"tr",align:null},"SMALLINT"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MEDIUMINT"),(0,r.kt)("td",{parentName:"tr",align:null},"INT"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"INT"),(0,r.kt)("td",{parentName:"tr",align:null},"INT"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"BIGINT"),(0,r.kt)("td",{parentName:"tr",align:null},"BIGINT"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"UNSIGNED TINYINT"),(0,r.kt)("td",{parentName:"tr",align:null},"SMALLINT"),(0,r.kt)("td",{parentName:"tr",align:null},"DORIS does not have the UNSIGNED data type, so expand the type")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"UNSIGNED MEDIUMINT"),(0,r.kt)("td",{parentName:"tr",align:null},"INT"),(0,r.kt)("td",{parentName:"tr",align:null},"DORIS does not have the UNSIGNED data type, so expand the type")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"UNSIGNED INT"),(0,r.kt)("td",{parentName:"tr",align:null},"BIGINT"),(0,r.kt)("td",{parentName:"tr",align:null},"DORIS does not have the UNSIGNED data type, so expand the type")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"UNSIGNED BIGINT"),(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"FLOAT"),(0,r.kt)("td",{parentName:"tr",align:null},"FLOAT"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"DOUBLE"),(0,r.kt)("td",{parentName:"tr",align:null},"DOUBLE"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"DECIMAL"),(0,r.kt)("td",{parentName:"tr",align:null},"DECIMAL"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"DATE"),(0,r.kt)("td",{parentName:"tr",align:null},"DATE"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"TIMESTAMP"),(0,r.kt)("td",{parentName:"tr",align:null},"DATETIME"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"DATETIME"),(0,r.kt)("td",{parentName:"tr",align:null},"DATETIME"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"YEAR"),(0,r.kt)("td",{parentName:"tr",align:null},"SMALLINT"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"TIME"),(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"CHAR"),(0,r.kt)("td",{parentName:"tr",align:null},"CHAR"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"VARCHAR"),(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"TINYTEXT\u3001TEXT\u3001MEDIUMTEXT\u3001LONGTEXT\u3001TINYBLOB\u3001BLOB\u3001MEDIUMBLOB\u3001LONGBLOB\u3001TINYSTRING\u3001STRING\u3001MEDIUMSTRING\u3001LONGSTRING\u3001BINARY\u3001VARBINARY\u3001JSON\u3001SET\u3001BIT"),(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("h4",{id:"postgresql"},"POSTGRESQL"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"POSTGRESQL Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Doris Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Comment"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"BOOLEAN"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"smallint/int2"),(0,r.kt)("td",{parentName:"tr",align:null},"SMALLINT"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"integer/int4"),(0,r.kt)("td",{parentName:"tr",align:null},"INT"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"bigint/int8"),(0,r.kt)("td",{parentName:"tr",align:null},"BIGINT"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"decimal/numeric"),(0,r.kt)("td",{parentName:"tr",align:null},"DECIMAL"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"real/float4"),(0,r.kt)("td",{parentName:"tr",align:null},"FLOAT"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"double precision"),(0,r.kt)("td",{parentName:"tr",align:null},"DOUBLE"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"smallserial"),(0,r.kt)("td",{parentName:"tr",align:null},"SMALLINT"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"serial"),(0,r.kt)("td",{parentName:"tr",align:null},"INT"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"bigserial"),(0,r.kt)("td",{parentName:"tr",align:null},"BIGINT"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"char"),(0,r.kt)("td",{parentName:"tr",align:null},"CHAR"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"varchar/text"),(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"timestamp"),(0,r.kt)("td",{parentName:"tr",align:null},"DATETIME"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"date"),(0,r.kt)("td",{parentName:"tr",align:null},"DATE"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"time"),(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"interval"),(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"point/line/lseg/box/path/polygon/circle"),(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"cidr/inet/macaddr"),(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"bit/bit(n)/bit varying(n)"),(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"bit")," type corresponds to the ",(0,r.kt)("inlineCode",{parentName:"td"},"STRING")," type of DORIS. The data read is ",(0,r.kt)("inlineCode",{parentName:"td"},"true/false"),", not ",(0,r.kt)("inlineCode",{parentName:"td"},"1/0"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"uuid/josnb"),(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("h4",{id:"clickhouse"},"CLICKHOUSE"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"ClickHouse Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Doris Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Comment"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Bool"),(0,r.kt)("td",{parentName:"tr",align:null},"BOOLEAN"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"String"),(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Date/Date32"),(0,r.kt)("td",{parentName:"tr",align:null},"DATE"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"DateTime/DateTime64"),(0,r.kt)("td",{parentName:"tr",align:null},"DATETIME"),(0,r.kt)("td",{parentName:"tr",align:null},"Data that exceeds Doris's maximum DateTime accuracy is truncated")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Float32"),(0,r.kt)("td",{parentName:"tr",align:null},"FLOAT"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Float64"),(0,r.kt)("td",{parentName:"tr",align:null},"DOUBLE"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Int8"),(0,r.kt)("td",{parentName:"tr",align:null},"TINYINT"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Int16/UInt8"),(0,r.kt)("td",{parentName:"tr",align:null},"SMALLINT"),(0,r.kt)("td",{parentName:"tr",align:null},"DORIS does not have the UNSIGNED data type, so expand the type")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Int32/UInt16"),(0,r.kt)("td",{parentName:"tr",align:null},"INT"),(0,r.kt)("td",{parentName:"tr",align:null},"DORIS does not have the UNSIGNED data type, so expand the type")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Int64/Uint32"),(0,r.kt)("td",{parentName:"tr",align:null},"BIGINT"),(0,r.kt)("td",{parentName:"tr",align:null},"DORIS does not have the UNSIGNED data type, so expand the type")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Int128/UInt64"),(0,r.kt)("td",{parentName:"tr",align:null},"LARGEINT"),(0,r.kt)("td",{parentName:"tr",align:null},"DORIS does not have the UNSIGNED data type, so expand the type")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Int256/UInt128/UInt256"),(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null},"Doris does not have a data type of this magnitude and is processed with STRING")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"DECIMAL"),(0,r.kt)("td",{parentName:"tr",align:null},"DECIMAL"),(0,r.kt)("td",{parentName:"tr",align:null},"Data that exceeds Doris's maximum Decimal precision is mapped to a STRING")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Enum/IPv4/IPv6/UUID"),(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null},"In the display of IPv4 and IPv6, an extra ",(0,r.kt)("inlineCode",{parentName:"td"},"/")," is displayed before the data, which needs to be processed by the ",(0,r.kt)("inlineCode",{parentName:"td"},"split_part")," function")))),(0,r.kt)("h4",{id:"oracle"},"ORACLE"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"ORACLE Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Doris Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Comment"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"number(p) / number(p,0)"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Doris will choose the corresponding doris type based on the p: p<3 -> TINYINT; p<5 -> SMALLINT; p<10 -> INT; p<19 -> BIGINT; p>19 -> LARGEINT")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"number(p,s)"),(0,r.kt)("td",{parentName:"tr",align:null},"DECIMAL"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"decimal"),(0,r.kt)("td",{parentName:"tr",align:null},"DECIMAL"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"float/real"),(0,r.kt)("td",{parentName:"tr",align:null},"DOUBLE"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"DATE"),(0,r.kt)("td",{parentName:"tr",align:null},"DATETIME"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"CHAR/NCHAR"),(0,r.kt)("td",{parentName:"tr",align:null},"CHAR"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"VARCHAR2/NVARCHAR2"),(0,r.kt)("td",{parentName:"tr",align:null},"VARCHAR"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"LONG/ RAW/ LONG RAW/ INTERVAL"),(0,r.kt)("td",{parentName:"tr",align:null},"TEXT"),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("h2",{id:"privilege-management"},"Privilege Management"),(0,r.kt)("p",null,"Using Doris to access the databases and tables in the External Catalog is not controlled by the permissions of the external data source itself, but relies on Doris's own permission access management."),(0,r.kt)("p",null,"The privilege management of Doris provides an extension to the Cataloig level. For details, please refer to the ",(0,r.kt)("a",{parentName:"p",href:"/docs/dev/admin-manual/privilege-ldap/user-privilege"},"privilege management")," document."),(0,r.kt)("h2",{id:"metadata-refresh"},"Metadata Refresh"),(0,r.kt)("h3",{id:"manual-refresh"},"Manual Refresh"),(0,r.kt)("p",null,"Metadata changes of external data sources, such as creating, dropping tables, adding or dropping columns, etc., will not be synchronized to Doris."),(0,r.kt)("p",null,"Users need to manually refresh metadata via the ",(0,r.kt)("a",{parentName:"p",href:"/docs/dev/sql-manual/sql-reference/Utility-Statements/REFRESH"},"REFRESH CATALOG")," command."),(0,r.kt)("h3",{id:"auto-refresh"},"Auto Refresh"),(0,r.kt)("h4",{id:"hive-metastorehms-catalog"},"Hive MetaStore(HMS) catalog"),(0,r.kt)("version",{since:"dev"},(0,r.kt)("p",null,"The FE node can sense the change of the Hive table metadata by reading the HMS notification event regularly. Currently, the following events are supported:")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"CREATE DATABASE event:Create database under the corresponding catalog.                       "),(0,r.kt)("li",{parentName:"ol"},"DROP DATABASE event:Drop database under the corresponding catalog."),(0,r.kt)("li",{parentName:"ol"},"ALTER DATABASE event:The main impact of this event is to change the attribute information, comments and default storage location of the database,These changes do not affect the query operation of doris on the external catalog, so this event will be ignored at present."),(0,r.kt)("li",{parentName:"ol"},"CREATE TABLE event:Create table under the corresponding database."),(0,r.kt)("li",{parentName:"ol"},"DROP TABLE event:Drop table under the corresponding database and invalidate its cache."),(0,r.kt)("li",{parentName:"ol"},"ALTER TABLE event:If renaming, delete the table with the old name first, and then create the table with the new name, otherwise the cache of the table will be invalidated.                    "),(0,r.kt)("li",{parentName:"ol"},"ADD PARTITION event:Add partition in the partitions list of the corresponding table cache."),(0,r.kt)("li",{parentName:"ol"},"DROP PARTITION event:Delete the partition in the partition list of the corresponding table cache and invalidate the cache of the partition."),(0,r.kt)("li",{parentName:"ol"},"ALTER PARTITION event:If renaming, delete the partition with the old name first, and then create the partition with the new name, otherwise the cache of the partition will be invalidated. "),(0,r.kt)("li",{parentName:"ol"},"When the file is changed due to importing data, the partition table will follow the ALTER PARTITION event logic, and the non-partition table will follow the ALTER TABLE event logic (note: if the file system is directly operated by bypassing the HMS, the HMS will not generate the corresponding event, and Doris will not be aware of it).")),(0,r.kt)("p",null,"The feature is controlled by the following parameters of fe:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"enable_hms_events_incremental_sync:Whether to enable automatic incremental metadata synchronization. The default value false."),(0,r.kt)("li",{parentName:"ol"},"hms_events_polling_interval_ms: The interval between reading events. The default value is 10000, in milliseconds.                                   "),(0,r.kt)("li",{parentName:"ol"},"hms_events_batch_size_per_rpc:The maximum number of events read each time. The default value is 500.")),(0,r.kt)("p",null,"If you want to use this feature, you need to change the hive-site.xml of HMS and restart HMS"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"<property>\n    <name>hive.metastore.event.db.notification.api.auth</name>\n    <value>false</value>\n</property>\n<property>\n    <name>hive.metastore.dml.events</name>\n    <value>true</value>\n</property>\n<property>\n    <name>hive.metastore.transactional.event.listeners</name>\n    <value>org.apache.hive.hcatalog.listener.DbNotificationListener</value>\n</property>\n\n")),(0,r.kt)("h5",{id:"use-suggestions"},"Use suggestions"),(0,r.kt)("p",null,"Whether you want to change the previously created catalog to automatic refresh or the newly created catalog, you only need to set enable_hms_events_incremental_sync to true, restart the fe node, and do not need to manually refresh the metadata before or after restarting.      "),(0,r.kt)("h4",{id:"other-catalog"},"Other catalog"),(0,r.kt)("p",null,"Not supported temporarily."),(0,r.kt)("h2",{id:"faq"},"FAQ"),(0,r.kt)("h3",{id:"iceberg"},"Iceberg"),(0,r.kt)("p",null,"The following configurations solves the problem ",(0,r.kt)("inlineCode",{parentName:"p"},"failed to get schema for table xxx in db xxx")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"java.lang.UnsupportedOperationException: Storage schema reading not supported")," when reading data from ",(0,r.kt)("inlineCode",{parentName:"p"},"Hive Metastore"),"."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Place iceberg runtime jar in the hive lib directory."),(0,r.kt)("li",{parentName:"ul"},"hive-site.xml add the property ",(0,r.kt)("inlineCode",{parentName:"li"},"metastore.storage.schema.reader.impl=org.apache.hadoop.hive.metastore.SerDeStorageSchemaReader"),".")),(0,r.kt)("p",null,"Restart ",(0,r.kt)("inlineCode",{parentName:"p"},"Hive Metastore")," after the configuration is complete. "),(0,r.kt)("h3",{id:"kerberos"},"Kerberos"),(0,r.kt)("p",null,"When connecting to ",(0,r.kt)("inlineCode",{parentName:"p"},"Hive Metastore")," authenticated by ",(0,r.kt)("inlineCode",{parentName:"p"},"Kerberos")," with doris 1.2.0, an exception message containing ",(0,r.kt)("inlineCode",{parentName:"p"},"GSS initiate failed")," appears."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Please update to version 1.2.2, or recompile FE version 1.2.1 using the latest docker development image.")),(0,r.kt)("h3",{id:"hdfs"},"HDFS"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"java.lang.VerifyError: xxx")," error occurred while reading HDFS version 3.x."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Update hadoop-related dependencies in ",(0,r.kt)("inlineCode",{parentName:"li"},"fe/pom.xml")," to version 2.10.2, and recompile FE.")))}m.isMDXComponent=!0}}]);